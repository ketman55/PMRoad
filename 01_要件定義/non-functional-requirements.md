# 非機能要件定義書

**タイトル**: 非機能要件定義書  
**バージョン**: 1.0.0  
**最終更新日**: YYYY-MM-DD  
**作成者**: [作成者名]  
**レビュアー**: [レビュアー名]  
**関連ドキュメント**: functional-requirements.md, requirements-register.md  
**ステータス**: draft  

---

## 1. 概要

### 1.1 目的
本文書は、システムの品質特性に関する非機能要求事項を定義し、システムの品質目標を明確にすることを目的とする。

### 1.2 適用範囲
本非機能要件定義書は、[システム名/プロジェクト名]における全ての非機能要求事項に適用される。

### 1.3 非機能要件の分類
- 性能・拡張性
- 可用性・信頼性
- セキュリティ
- ユーザビリティ
- 保守性・移植性
- 運用・保守
- システム環境・制約

## 2. 性能・拡張性要件

### 2.1 応答時間要件

| 処理種別 | 要求レベル | 目標値 | 測定条件 |
|---|---|---|---|
| オンライン検索 | 必須 | 3秒以内 | 通常負荷時 |
| オンライン更新 | 必須 | 5秒以内 | 通常負荷時 |
| 帳票出力 | 推奨 | 10秒以内 | A4 10ページ程度 |
| バッチ処理 | 必須 | 2時間以内 | 日次処理全体 |

### 2.2 スループット要件

| 処理種別 | 要求レベル | 目標値 | 測定条件 |
|---|---|---|---|
| 同時ユーザー数 | 必須 | 100ユーザー | ピーク時 |
| トランザクション処理 | 必須 | 500件/分 | 更新処理 |
| データ処理件数 | 必須 | 10万件/時 | バッチ処理 |

### 2.3 容量・拡張性要件

#### データ容量
- **データベース容量**: 初期100GB、年間増加率20%
- **ファイル容量**: 初期10GB、年間増加率30%
- **ログ容量**: 日次1GB、保存期間1年

#### ユーザー数拡張性
- **現在**: 100ユーザー
- **1年後**: 150ユーザー
- **3年後**: 250ユーザー

#### データ処理拡張性
- **現在**: 日次10万件
- **1年後**: 日次15万件
- **3年後**: 日次25万件

### 2.4 リソース使用量

| リソース種別 | 要求レベル | 目標値 | 測定条件 |
|---|---|---|---|
| CPU使用率 | 必須 | 70%以下 | ピーク時平均 |
| メモリ使用率 | 必須 | 80%以下 | ピーク時平均 |
| ディスク使用率 | 必須 | 80%以下 | 通常時 |
| ネットワーク使用率 | 推奨 | 60%以下 | ピーク時平均 |

## 3. 可用性・信頼性要件

### 3.1 可用性要件

| 項目 | 要求レベル | 目標値 | 測定期間 |
|---|---|---|---|
| システム稼働率 | 必須 | 99.5%以上 | 月次 |
| 計画停止時間 | 必須 | 月4時間以下 | 月次 |
| 障害復旧時間（RTO） | 必須 | 1時間以内 | 重大障害 |
| データ復旧時点（RPO） | 必須 | 1時間以内 | 重大障害 |

### 3.2 信頼性要件

#### 障害対応
- **障害検知**: 自動監視による即座の検知
- **障害通知**: 管理者への自動通知（メール・SMS）
- **障害復旧**: 自動復旧機能および手動復旧手順
- **障害記録**: 全障害情報の記録・分析

#### バックアップ・リストア
- **バックアップ頻度**: 日次フルバックアップ、時間差分バックアップ
- **バックアップ保存期間**: 3ヶ月間
- **リストア確認**: 月次リストア試験実施
- **バックアップ場所**: オンサイト・オフサイト双方

### 3.3 災害対策

| 項目 | 要求レベル | 対応内容 |
|---|---|---|
| 災害対策サイト | 推奨 | ホットスタンバイサイト構築 |
| データレプリケーション | 必須 | リアルタイム同期 |
| 業務継続時間 | 必須 | 24時間以内に業務再開 |
| 災害時訓練 | 必須 | 年2回実施 |

## 4. セキュリティ要件

### 4.1 認証・認可

#### 認証方式
- **ユーザー認証**: ID/パスワード認証
- **パスワードポリシー**: 最低8文字、英数字記号組み合わせ
- **パスワード有効期限**: 90日
- **アカウントロック**: 5回失敗でロック、30分自動解除

#### 認可制御
- **役割ベースアクセス制御（RBAC）**: 実装
- **最小権限の原則**: 適用
- **権限管理**: 定期的な権限レビュー（四半期）

### 4.2 データ保護

#### 暗号化
- **データベース暗号化**: 機密データのフィールドレベル暗号化
- **通信暗号化**: SSL/TLS 1.2以上
- **ファイル暗号化**: 機密ファイルの暗号化保存

#### アクセスログ
- **操作ログ**: 全ユーザー操作の記録
- **システムログ**: システムイベントの記録
- **ログ保存期間**: 1年間
- **ログ改ざん防止**: デジタル署名による保護

### 4.3 セキュリティ監視

| 監視項目 | 要求レベル | 対応内容 |
|---|---|---|
| 不正アクセス検知 | 必須 | リアルタイム監視・通知 |
| マルウェア対策 | 必須 | ウイルス対策ソフト導入 |
| 脆弱性管理 | 必須 | 月次脆弱性スキャン |
| セキュリティ更新 | 必須 | 定期的なセキュリティパッチ適用 |

## 5. ユーザビリティ要件

### 5.1 使いやすさ

#### 操作性
- **直感的操作**: 特別な訓練なしに基本操作が可能
- **操作ガイド**: オンラインヘルプ機能提供
- **エラーメッセージ**: 分かりやすい日本語メッセージ
- **操作確認**: 重要操作時の確認ダイアログ表示

#### 画面設計
- **レスポンシブデザイン**: PC・タブレット対応
- **画面解像度**: 1024×768以上対応
- **フォントサイズ**: 可変フォントサイズ対応
- **カラーコントラスト**: WCAG 2.1 AA準拠

### 5.2 学習容易性

| 項目 | 要求レベル | 目標値 |
|---|---|---|
| 新規ユーザー習得時間 | 必須 | 4時間以内 |
| 基本操作習得時間 | 必須 | 1時間以内 |
| マニュアル理解度 | 推奨 | 90%以上 |

### 5.3 アクセシビリティ

- **キーボード操作**: マウスを使わない操作対応
- **スクリーンリーダー**: 対応
- **色覚対応**: 色だけに依存しない情報表示
- **JIS X 8341**: レベルAA準拠

## 6. 保守性・移植性要件

### 6.1 保守性

#### コード品質
- **コーディング標準**: 言語別標準に準拠
- **コメント率**: 20%以上
- **複雑度制限**: サイクロマティック複雑度10以下
- **テストカバレッジ**: 80%以上

#### 保守作業
- **障害対応時間**: 4時間以内（営業時間内）
- **軽微修正**: 1週間以内
- **機能追加**: 要件に応じて見積もり

### 6.2 移植性

#### 環境独立性
- **OS依存**: 最小限に抑制
- **ミドルウェア標準**: 標準的なミドルウェア使用
- **設定外部化**: 環境依存設定の外部化

#### 標準準拠
- **Web標準**: HTML5、CSS3、JavaScript準拠
- **データベース**: SQL-92準拠
- **インターフェース**: REST API、SOAP対応

## 7. 運用・保守要件

### 7.1 運用要件

#### 運用時間
- **稼働時間**: 平日7:00-20:00（13時間）
- **メンテナンス時間**: 土日2:00-6:00（4時間）
- **緊急対応**: 24時間365日

#### 監視・通知
- **システム監視**: CPU、メモリ、ディスク、ネットワーク
- **業務監視**: 重要バッチの実行状況
- **アラート通知**: 閾値超過時の自動通知
- **レポート**: 日次・週次・月次運用レポート

### 7.2 保守要件

#### 定期保守
- **システム点検**: 月次
- **データベース保守**: 月次
- **ログローテーション**: 日次
- **バックアップ確認**: 日次

#### 障害対応
- **障害受付**: 24時間365日
- **対応時間**: 重大障害1時間以内、軽微障害4時間以内
- **エスカレーション**: 段階的エスカレーション体制

## 8. システム環境・制約要件

### 8.1 ハードウェア要件

#### サーバー要件
- **CPU**: 最低4コア、推奨8コア
- **メモリ**: 最低8GB、推奨16GB
- **ストレージ**: 最低500GB、推奨1TB（SSD）
- **ネットワーク**: 1Gbps以上

#### クライアント要件
- **OS**: Windows 10以降、macOS 10.14以降
- **ブラウザ**: Chrome、Firefox、Safari、Edge最新版
- **メモリ**: 最低4GB
- **画面解像度**: 最低1024×768

### 8.2 ソフトウェア要件

#### システムソフトウェア
- **OS**: Linux（CentOS/Ubuntu/RHEL）
- **Webサーバー**: Apache/Nginx
- **アプリケーションサーバー**: Tomcat/JBoss
- **データベース**: PostgreSQL/MySQL/Oracle

#### 開発・実行環境
- **プログラミング言語**: Java、JavaScript、Python等
- **フレームワーク**: Spring、React、Vue.js等
- **バージョン管理**: Git
- **CI/CD**: Jenkins、GitHub Actions等

### 8.3 ネットワーク要件

#### 通信要件
- **帯域幅**: 最低100Mbps、推奨1Gbps
- **レイテンシ**: 50ms以下
- **プロトコル**: HTTP/HTTPS、TCP/IP

#### セキュリティ要件
- **ファイアウォール**: 必須
- **侵入検知システム**: 推奨
- **VPN**: リモートアクセス用

## 9. 品質目標

### 9.1 品質メトリクス

| 品質特性 | メトリクス | 目標値 |
|---|---|---|
| 機能性 | 機能実装率 | 100% |
| 信頼性 | 平均故障間隔（MTBF） | 1000時間以上 |
| 使用性 | ユーザー満足度 | 4.0/5.0以上 |
| 効率性 | レスポンス時間 | 要件値以内 |
| 保守性 | 修正時間 | 4時間以内 |
| 移植性 | 環境移行時間 | 1日以内 |

### 9.2 受入基準

#### 性能受入基準
- [ ] 全ての性能要件を満たしている
- [ ] 負荷テストで目標値を達成している
- [ ] リソース使用量が制限内である

#### セキュリティ受入基準
- [ ] セキュリティテストに合格している
- [ ] 脆弱性スキャンで問題なし
- [ ] 監査要件を満たしている

#### 可用性受入基準
- [ ] 可用性テストに合格している
- [ ] 災害対策テストに合格している
- [ ] バックアップ・リストアテストに合格している

---

**注意**: この非機能要件定義書はシステムの品質を決定する重要な文書です。要件の変更は適切な影響分析を実施してから行ってください。